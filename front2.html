<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Personal Finance Dashboard</title>
  <style>
    :root {
      --bg: #f7f7fb;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #6b7280;
      --border: #e5e7eb;
      --chip: #eef2f7;
      --green: #16a34a;
      --red: #dc2626;
    }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: var(--bg); color: var(--text); }
    .wrap { max-width: 1120px; margin: 24px auto; padding: 0 16px; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
    @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }

    .panel { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 16px; }
    .panel h2 { margin: 0; font-size: 22px; }
    .hint { color: var(--muted); font-size: 13px; margin-top: 4px; }

    /* Left: Spending */
    .spend { display: grid; grid-template-columns: 280px 1fr; gap: 18px; align-items: center; }
    @media (max-width: 640px) { .spend { grid-template-columns: 1fr; } }
    .ring { width: 240px; height: 240px; margin: 8px auto; position: relative; }
    .ring svg { width: 100%; height: 100%; transform: rotate(-90deg); }
    .total { position: absolute; inset: 0; display: grid; place-items: center; text-align: center; }
    .total .label { color: var(--muted); font-size: 12px; }
    .total .amount { font-size: 28px; font-weight: 800; letter-spacing: .5px; }

    .cats { display: flex; flex-direction: column; gap: 12px; }
    .cat { display: flex; align-items: center; gap: 12px; padding: 10px 12px; border: 1px solid var(--border); border-radius: 12px; }
    .cat .icon { width: 36px; height: 36px; border-radius: 10px; display: grid; place-items: center; font-weight: 700; background: var(--chip); }
    .cat .meta { display: grid; gap: 2px; }
    .cat .name { font-weight: 700; }
    .cat .sub { color: var(--muted); font-size: 12px; }
    .cat .value { margin-left: auto; font-weight: 800; }
    .pct { margin-left: 8px; font-size: 12px; padding: 4px 8px; border-radius: 999px; background: #eef2ff; color: #1e3a8a; font-weight: 700; }

    /* Right: Transactions */
    .head { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
    .small { color: var(--muted); font-size: 12px; }
    .txns { display: flex; flex-direction: column; gap: 12px; }
    .txn { display: flex; align-items: center; gap: 12px; border: 1px solid var(--border); border-radius: 12px; padding: 12px; }
    .txn .avatar { width: 40px; height: 40px; border-radius: 10px; display: grid; place-items: center; background: var(--chip); font-weight: 800; }
    .txn .info { display: grid; gap: 4px; }
    .txn .title { font-weight: 700; display: flex; align-items: center; gap: 8px; }
    .badge { padding: 4px 8px; font-size: 12px; border-radius: 999px; background: #eef2ff; color: #1e3a8a; }
    .txn .time { color: var(--muted); font-size: 12px; }
    .txn .amt { margin-left: auto; font-weight: 800; }
    .up { color: var(--green); }
    .down { color: var(--red); }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="grid">
      <!-- Spending by Category -->
      <div class="panel">
        <h2>Spending by Category</h2>
        <div class="hint">Your spending breakdown this month</div>
        <div class="spend" id="spend">
          <div class="ring">
            <svg viewBox="0 0 100 100" id="donut"></svg>
            <div class="total">
              <div>
                <div class="amount" id="totalAmount">$0.00</div>
                <div class="label">Total spent</div>
              </div>
            </div>
          </div>
          <div class="cats" id="catList"></div>
        </div>
      </div>

      <!-- Recent Transactions -->
      <div class="panel">
        <div class="head">
          <div>
            <h2 style="margin-bottom:4px;">Recent Transactions</h2>
            <div class="small">Your latest activity</div>
          </div>
          <div class="small" id="txnCount"></div>
        </div>
        <div class="txns" id="txnList"></div>
      </div>
    </div>
  </div>

  <script>
    // Data
    const categories = [
      { name: 'Dining', amount: 320.45, count: 15, color: '#3b82f6', icon: '🍽️' },
      { name: 'Shopping', amount: 245.20, count: 8, color: '#7c3aed', icon: '🛍️' },
      { name: 'Transportation', amount: 180.30, count: 12, color: '#f59e0b', icon: '🚕' },
      { name: 'Utilities', amount: 150.00, count: 4, color: '#0ea5e9', icon: '🏠' },
      { name: 'Entertainment', amount: 125.75, count: 6, color: '#10b981', icon: '🎮' }
    ];

    const transactions = [
      { title: 'Whole Foods Market', tag: 'dining', date: 'Sep 24, 2024 • 2:30 PM', amount: -85.45, icon: '🍎' },
      { title: 'Payroll Deposit', tag: 'income', date: 'Sep 24, 2024 • 9:00 AM', amount: 2500.00, icon: '💵' },
      { title: 'Uber Ride', tag: 'transportation', date: 'Sep 23, 2024 • 6:45 PM', amount: -45.20, icon: '🚗' },
      { title: 'Electric Bill', tag: 'utilities', date: 'Sep 22, 2024 • 10:00 AM', amount: -150.00, icon: '🔌' }
    ];

    // Helpers
    const fmt = n => n.toLocaleString(undefined, { style: 'currency', currency: 'USD' });

    // Build Donut
    const total = categories.reduce((s, c) => s + c.amount, 0);
    document.getElementById('totalAmount').textContent = fmt(total);

    const circumference = 2 * Math.PI * 38; // r=38
    let offset = 0;
    const svg = document.getElementById('donut');
    // Background track
    const track = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    track.setAttribute('cx', '50'); track.setAttribute('cy', '50'); track.setAttribute('r', '38');
    track.setAttribute('fill', 'none'); track.setAttribute('stroke', '#e5e7eb'); track.setAttribute('stroke-width', '12');
    svg.appendChild(track);
    // Slices
    categories.forEach(cat => {
      const pct = cat.amount / total;
      const len = circumference * pct;
      const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
      circle.setAttribute('cx', '50'); circle.setAttribute('cy', '50'); circle.setAttribute('r', '38');
      circle.setAttribute('fill', 'none'); circle.setAttribute('stroke', cat.color); circle.setAttribute('stroke-width', '12');
      circle.setAttribute('stroke-dasharray', `${len} ${circumference - len}`);
      circle.setAttribute('stroke-dashoffset', String(-offset));
      circle.setAttribute('stroke-linecap', 'butt');
      svg.appendChild(circle);
      offset += len;
    });

    // Category list
    const catList = document.getElementById('catList');
    categories.forEach(cat => {
      const pct = Math.round((cat.amount / total) * 1000) / 10;
      const row = document.createElement('div');
      row.className = 'cat';
      row.innerHTML = `
        <div class="icon" style="color:${cat.color}">${cat.icon}</div>
        <div class="meta">
          <div class="name">${cat.name}</div>
          <div class="sub">${cat.count} transactions</div>
        </div>
        <div class="value">${fmt(cat.amount)}</div>
        <span class="pct">${pct}%</span>
      `;
      catList.appendChild(row);
    });

    // Transactions
    const txnList = document.getElementById('txnList');
    document.getElementById('txnCount').textContent = `${transactions.length} transactions`;
    transactions.forEach(t => {
      const el = document.createElement('div');
      el.className = 'txn';
      const signClass = t.amount >= 0 ? 'up' : 'down';
      const sign = t.amount >= 0 ? '+' : '-';
      const absAmt = Math.abs(t.amount);
      el.innerHTML = `
        <div class="avatar">${t.icon}</div>
        <div class="info">
          <div class="title">${t.title} <span class="badge">${t.tag}</span></div>
          <div class="time">${t.date}</div>
        </div>
        <div class="amt ${signClass}">${sign} ${fmt(absAmt)}</div>
      `;
      txnList.appendChild(el);
    });
  </script>
</body>
</html>

